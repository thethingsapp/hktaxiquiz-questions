# 乙部（道路使用者守則）製作計畫（RUC 2020 版）

更新日期：2025-10-26

本計畫以《道路使用者守則》（2020-06-19 生效，中文版）為藍本，重構並擴充 Part B 題庫，強調可追溯來源、章節覆蓋與可分階段上線。

## 官方章節一覽

依據 PDF 目錄（抽樣核對）：
- 第一章：所有道路使用者須知
- 第二章：行人須知
- 第三章：乘客須知
- 第四章：騎單車者須知
- 第五章：所有駕駛人須知
- 第六章：職業司機須知
- 第七章：電單車及機動三輪車駕駛人須知
- 第八章：道路語言（信號、交通燈、交通標誌、道路標記等）
- 第九章：兒童及長者使用道路
- 第十章：緊急事故

附註：第八章（道路語言）涵蓋大量標誌、燈號與道路標記，體量最大。

## 題庫結構與欄位

- 檔名：`part_b_questions.json`
- Schema：與 A1/A2/A3 一致
  - part/title/description/passingScore/totalQuestions/questions[]
  - 問題欄位：id（字串，延續 B 前綴）、question、options、answer、explanation、difficulty、tags
- 推薦新增標籤（tags）：
  - `chapter:第N章`（如 `chapter:第八章`）
  - `section:子題目名稱`（如 `section:交通標誌系統`）
  - `ruc:2020-pX`（引用頁碼，例 `ruc:2020-p85`）
  - 主題標籤：`標誌`、`標記`、`路口`、`限速`、`天氣`、`行人`、`駕駛技巧` 等
- ID 原則：
  - 延續現有 `B001` 起的字串 ID 格式，向上遞增（例如 `B131+`）。
  - 保持穩定不重覆；如需替換題目，使用新 ID，舊題移至 legacy 段落（見替換策略）。

## 分階段製作與交付

為降低一次性切換風險，採 4 個階段滾動交付，每階段均可單獨上線並帶來實質覆蓋提升。

- 第1階段（基礎用路者 + 基礎駕駛）
  - 範圍：第1章、第2章、第3章 + 第5章的「基本安全駕駛、速度、距離、超車、路口通則」
  - 目標：+120～180 題（優先補齊基礎概念、禮讓、行人與路口安全）
  - 來源與依據：RUC 章節條文與插圖；對應頁碼寫入 tags
  - 驗收：lint + schema 驗證 + 交叉審校（2 人）

- 第2階段（騎士與進階駕駛）
  - 範圍：第4章（單車）、第7章（電單車）+ 第5章進階（高速、白線/雙白線、車道使用、巴士線、分隔車路）
  - 目標：+150～220 題
  - 驗收：同上，並新增圖片配對（如需）

- 第3階段（專業司機與不良環境）
  - 範圍：第6章（職業司機）、第5章（隧道、道路工程、泊車規則、惡劣天氣、夜間）
  - 目標：+150～220 題
  - 驗收：同上

- 第4階段（道路語言 + 特殊族群 + 緊急事故）
  - 範圍：第8章（道路語言：標誌/燈號/道路標記）、第9章（兒童/長者）、第10章（緊急事故）
  - 目標：+250～350 題（第八章為重點與大宗）
  - 驗收：同上；圖像引用比對與一致性檢查

總體完成後預計 Part B 題量：600～900 題（依實際覆蓋微調）。

## 舊題庫替換策略（不中斷上線）

- 保留現有 `part_b_questions.json` 為「legacy」基線；新內容先寫入同檔案中新增題目（ID 續編），逐步擴充。
- 每個階段完成後：
  - 提交 PR（不直接推 production 分支），標題如「Part B Phase 1 (+X 題)」。
  - 更新 `part_b_questions.json.version`（日期版號，如 `v2025.10.26`）。
  - 在本 repo README 記錄階段進度與題數。
- App 端切換：
  - 若 App 具有遠端資產更新機制，可先在灰度/測試渠道更新；無則以 app 分支同步。
- 舊題淘汰：
  - 嚴重重覆或偏離 RUC 的題目，標記 `deprecated:true`（如 schema 未支援，可先移至檔尾 `legacy` 陣列暫存），不直接刪除以免影響既有統計。
  - 新題以新 ID 取代舊題；UI/統計如需保留歷史表現，應以 ID 映射表處理（見「維護工序」）。

## 維護工序與品控

- 撰題規則：
  - 不逐字複製官方文字；重述重點與情境化；避免版權問題。
  - 每題附上依據頁碼 `tags: ['ruc:2020-pXX']` 或小節名稱。
  - 優先單一正確答案；避免模棱兩可；選項語氣一致。
- 檢查清單（每階段交付前必做）：
  - Schema 驗證（本 repo 的校驗腳本 + App 端測試 `json_assets_schema_test.dart`）
  - 欄位完整性：options 至少 A/B/C，必要時含 D；answer 合法；explanation 合理
  - 內容一致性：術語、標點、全形/半形、單位
  - 圖片資產對應（若題目引用標誌/標記插圖）：路徑、檔名一致
- 版本與變更日誌：
  - 檔案 `part_b_questions.json.version` 使用日期版號
  - 在 PR 描述中列「新增題數、主要章節、破壞性變更（如移除題目）」

## 第八章拆分與題數預估

第八章（道路語言）包含「手勢／信號、交通燈／行車線信號、交通標誌（指令／禁令／警告／提示／方向／臨時）、道路標記（指令／警告與提示／禁止與限制）、主要幹線號碼」。為兼顧識別與應用，建議每個元素至少配置「辨識題 + 情境應用題」。

- 信號與手勢（含警務人員／交通督導員／授權人士、駕駛人／騎士手勢）
  - 內容：常見停止／前進／轉向／慢駛／改道等示意
  - 標籤：`chapter:第八章`、`section:信號`
- 交通燈與行車線信號
  - 內容：一般三色燈、行人燈（綠人閃爍階段）、專用燈（巴士／電車／單車）、可變車道訊號（紅X／綠箭頭）
  - 標籤：`section:交通燈`、`section:行車線信號`
- 交通標誌系統
  - 指令性標誌（藍底圓形，指定方向、只准直行、行人／單車專用等）
  - 禁令標誌（紅圈：不准駛入、禁左／禁右、禁掉頭、限速、重量／高度／寬度／車種限制等）
  - 警告標誌（紅三角：彎道、坡度、濕滑、不平、學校、行人、單車、動物、交通燈、路窄、合流、迴旋處等）
  - 提示標誌（設施與服務：停車場、醫院、加油站、行人天橋／隧道等）
  - 方向標誌（目的地方向、分流、出口、車道指引、路牌色系）
  - 臨時標誌（工程與改道、臨時限速、單線雙程等）
  - 標籤：`section:交通標誌系統` + 子分類
- 道路標記（路面標記）
  - 指令：停車線、讓路線（鋸齒線）、車道箭頭、巴士專用線標記等
  - 警告／提示：黃格（Yellow Box）、之字線、慢字／SLOW、行人過路標記（含斑馬線）
  - 禁止／限制：雙白線、單白線、路邊單／雙黃線、巴士站字樣與邊線
  - 專題：專用車道（巴士／電車／單車）與標記、行車線導向與變道規則
  - 標籤：`section:道路標記` + 子分類
- 主要幹線號碼（標示體系與讀法）

題數預估（僅第八章）：
- MVP（基礎覆蓋）：160～200 題
- Standard（標準覆蓋，建議目標）：約 250～330 題（推薦 320 題）
- Full（深度覆蓋，含更多情境與混合題）：350～450 題

標準覆蓋的建議配額（約 320 題）：
- 信號與手勢：≈12
- 交通燈（含行車線與專用燈、行人燈）：≈40
- 交通標誌－指令：≈30
- 交通標誌－禁令：≈55
- 交通標誌－警告：≈60
- 交通標誌－提示：≈18
- 交通標誌－方向：≈18
- 交通標誌－臨時：≈20
- 道路標記－指令：≈12
- 道路標記－警告／提示：≈10
- 道路標記－禁止／限制：≈15
- 專題（巴士／電車／單車專用、之字線、黃格等細則）：≈25
- 主要幹線號碼：≈5

整體 Part B 題量對齊：若第八章採「標準覆蓋 ~320 題」，其餘九章合計建議 300～500 題，整體 Part B 目標 650～820 題（第一版可先達 450～550 題，後續逐步擴充）。

## 分期計畫（優先非標誌類，延後圖片）

為配合「標誌類等圖片上傳後再製作」的需求，先完成不依賴圖片的章節與主題，再把第八章（道路語言：標誌／燈號／道路標記）集中於最後一階段。

- 第1階段（基礎用路者 + 基礎駕駛）
  - 章節：第1章（所有道路使用者）、第2章（行人）、第3章（乘客）、第5章基礎（開車前／駕駛中注意、速限、距離、讓路與優先、路口通則、兩秒規則等）
  - 題數：120～160 題（標準目標：140）
  - 依據與標籤：`chapter:第1/2/3/5章`；補上 `ruc:2020-pX`
  - 交付：資料檔 + 版本檔 + 覆蓋統計

- 第2階段（進階駕駛 + 騎士）
  - 章節：第4章（騎單車者）、第7章（電單車），以及第5章進階（高速／主幹路、車道使用、合流、右線巡航、分隔車路等）
  - 題數：120～160 題（標準目標：140）
  - 重點：變線程序、盲點、單車／電單車定位、拉鍊式合流等

- 第3階段（專業司機 + 特殊環境）
  - 章節：第6章（職業司機）、第5章（隧道／管制區、道路工程、泊車規則、惡劣天氣、夜間）、第10章（緊急事故）
  - 題數：120～160 題（標準目標：140）
  - 重點：工程臨時措施（不涉圖片）、隧道安全、停靠與危險警告燈、急救與事故處置

- 第4階段（弱勢用路者 + 補洞）
  - 章節：第9章（兒童及長者），並針對第1～7、10章的薄弱點補題
  - 題數：50～80 題（標準目標：60）
  - 目的：完善非標誌類的覆蓋度與難度梯度

- 第5階段（第八章：道路語言／標誌與標記，待圖像）
  - 章節：第8章（信號、交通燈、交通標誌、道路標記、主要幹線號碼）
  - 題數：280～340 題（標準目標：320）
  - 依賴：標誌與標記圖片資產（上傳後對齊命名與路徑），再進行大規模出題與圖文一致性檢查

里程碑總結（標準目標）：
- 非標誌類合計 ≈ 140 + 140 + 140 + 60 = 480 題
- 第八章（含圖片） ≈ 320 題
- 合計 ≈ 800 題（範圍：690～900 題）

每階段交付檢查（品質關卡）：
- Schema 驗證與 linter（本 repo + App 測試檔）
- 欄位完整性（A/B/C/D、唯一正解、解釋合理）、術語一致性
- 版本檔更新：`part_b_questions.json.version`（日期版號）
- 變更說明：新增題數、章節覆蓋、是否存在 deprecate 舊題
- 覆蓋統計：依 `chapter:`、`section:` 匯總，追蹤薄弱區

替換策略與整合：
- 採「增量擴充」：不立即刪除舊題；必要時以 `deprecated:true` 或移至 `legacy` 區段保存
- 每階段以 PR 交付，合規後再併入主分支；App 端依遠端更新／灰度能力決定釋出節奏

## 建議工具與腳本

- `extract_ruc_toc.py`：由 PDF 目錄抽取章節與小節，輸出 JSON 供標籤/頁碼對照
- 校驗腳本：
  - 重覆偵測（同幹不同枝、近義重覆）
  - 章節覆蓋統計（按 `chapter:`、`section:` 標籤匯總）

## 風險與緩解

- 第八章體量大 → 分批提交，先完成「指令/禁令/警告」三大類後再補「提示/方向/臨時標誌/道路標記」。
- 舊題與新題口徑不一致 → 使用頁碼標籤與審校雙人制；不確定處交叉查核原文。
- App 更新節奏 → 以資料檔漸進擴充為主，避免一次性大改；確保舊 ID 不移除以保留統計。

---

如需調整階段順序或目標題量，可在提交階段 PR 時一併更新此文件。
